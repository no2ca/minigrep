# minigrep

参考: [入出力プロジェクト：コマンドラインプログラムを構築する - The Rust Programming Language 日本語版](https://doc.rust-jp.rs/book-ja/ch12-00-an-io-project.html)

## 概要

Rustのチュートリアルをベースにした文字列検索ツールです。

## 基本的な使い方

```bash
cargo run <検索文字列> <ファイル名>
```

## 追加機能

### 1. Clapライブラリによる引数パース

コマンドライン引数を手動でパースしていましたが、Clapライブラリを使用した引数処理を実装しました。

### 2. その他のコマンドラインオプション

`clap` ライブラリの導入により、検索機能を拡張する以下のオプションが追加されました。
*   `-i` または `--ignore-case`: 大文字・小文字を区別せずに検索します。
*   `-n` または `--line-number`: マッチした行の先頭に行番号を表示します。
*   `-v` または `--invert-match`: 検索パターンにマッチしない行を逆表示します。
*   `-w` または `--whole-word`: クエリを単語全体としてのみマッチさせます。
*   `-F` または `--fixed-strings`: クエリを正規表現としてではなく、リテラル文字列として扱います。デフォルトでは正規表現モードが有効です。

### 3. ディレクトリの再帰的検索と並列処理

単一ファイルだけでなく、ディレクトリ内のファイルを再帰的に検索できるようになりました。
*   `ignore` クレートを使用し、`.gitignore` で無視されたファイルをスキップします。
*   `rayon` クレートにより、複数ファイルの検索処理が並列化され、大規模なディレクトリでも高速に検索できます。

### 4. 正規表現対応

`regex` クレートを導入し、デフォルトで正規表現による検索が可能になりました。
*   クエリは正規表現パターンとして解釈されます。
*   `-w`/`--whole-word` オプションは正規表現と組み合わせて、単語の境界を意識した検索を提供します。
